<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta name="keywords" content="[iOS] 小问题记录, wOw的博客">
    <meta name="description" content="写iOS的时候难免遇到一些不熟悉的API，对于这些API只需要记下来，用的时候能找到就可以了。有必要的话把一些功能封装成一个自己容易记住的函数，写到自己的工具库里，提高开发效率。">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>[iOS] 小问题记录 | wOw的博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    
    <script src="/libs/jquery/jquery.min.js"></script>
    <script data-ad-client="ca-pub-1152673793873772" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>


<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper head-container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">wOw的博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">wOw的博客</div>
        <div class="logo-desc">
            
            就怕你一生碌碌无为，还安慰自己平凡可贵
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/wossoneri" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/wossoneri" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/9.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">[iOS] 小问题记录</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/iOS/">
                                <span class="chip bg-color">iOS</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/iOS入门/" class="post-category">
                                iOS入门
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2016-04-18
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    1,936
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    10 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h3 id="iOS-system"><a href="#iOS-system" class="headerlink" title="iOS system"></a>iOS system</h3><h4 id="iOS-version检测"><a href="#iOS-version检测" class="headerlink" title="iOS version检测"></a>iOS version检测</h4><p><a href="http://stackoverflow.com/a/5337804/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">#define SYSTEM_VERSION_EQUAL_TO(v)                  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedSame)
#define SYSTEM_VERSION_GREATER_THAN(v)              ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedDescending)
#define SYSTEM_VERSION_GREATER_THAN_OR_EQUAL_TO(v)  ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedAscending)
#define SYSTEM_VERSION_LESS_THAN(v)                 ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] == NSOrderedAscending)
#define SYSTEM_VERSION_LESS_THAN_OR_EQUAL_TO(v)     ([[[UIDevice currentDevice] systemVersion] compare:v options:NSNumericSearch] != NSOrderedDescending)

if (SYSTEM_VERSION_LESS_THAN(@"8.0")) {
   ...
}
</code></pre>
<h4 id="文件保存数据库的问题"><a href="#文件保存数据库的问题" class="headerlink" title="文件保存数据库的问题"></a>文件保存数据库的问题</h4><p>iOS 往数据库里写保存文件路径的时候，不要写全路径，因为软件更新或者重新安装沙盒路径会变</p>
<blockquote>
<p>更新的流程是这样的：更新时，先在新的路径里安装新程序，然后把旧程序文件夹里的配置文件之类的文件拷贝到新的路径里去，然后删除旧程序</p>
</blockquote>
<p>所以，如果数据库里保存的是绝对路径，那么软件会找不到文件。所以要保存相对路径。比如/var/mobile/Applications/ECDD1B2D-E53D-4914-BDDB-F0578BADAA38/Documents/A/B/C/9A4613EA-232A-480C-9492-B34A00BE3CB6.txt<br>只写/A/B/C/9A4613EA-232A-480C-9492-B34A00BE3CB6.txt就好，前半部分用系统方法获取。</p>
<h4 id="保存图片至iPhone图库"><a href="#保存图片至iPhone图库" class="headerlink" title="保存图片至iPhone图库"></a>保存图片至iPhone图库</h4><p><a href="http://stackoverflow.com/a/179066/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">UIImageWriteToSavedPhotosAlbum(UIImage *image, 
                               id completionTarget, 
                               SEL completionSelector, 
                               void *contextInfo);
</code></pre>
<hr>
<h3 id="NSString"><a href="#NSString" class="headerlink" title="NSString"></a>NSString</h3><h4 id="NSString-和-std-string-相互转换"><a href="#NSString-和-std-string-相互转换" class="headerlink" title="NSString 和 std::string 相互转换"></a>NSString 和 std::string 相互转换</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">//NSString to string
NSString *strA = @"NSString";
std::string *strB = new std::string([strA UTF8String]);
//or
std::string strB([strA UTF8String]);

//string to NSString
NSString *str = [NSString stringWithCString:string.c_str() 
                                   encoding:[NSString defaultCStringEncoding]];
NSString *str = [NSString stringWithCString:string.c_str() 
                                   encoding:NSUTF8StringEncoding]; // for chinese


std::string param; // <-- input
NSString* result = [NSString stringWithUTF8String:param.c_str()];
NSString* alternative = [[NSString alloc] initWithUTF8String:param.c_str()];
//chinese
[NSString stringWithCString:m_AnswerSheet.GetName().c_str() encoding:NSUTF8StringEncoding]
</code></pre>
<h4 id="NSString实现trimRight方法"><a href="#NSString实现trimRight方法" class="headerlink" title="NSString实现trimRight方法"></a>NSString实现trimRight方法</h4><p>参考这里：<a href="http://stackoverflow.com/questions/5689288/how-to-remove-whitespace-from-right-end-of-nsstring" target="_blank" rel="noopener">link</a><br><a href="http://stackoverflow.com/a/20521689/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">//该方法会删除string两端的空格
NSString *newString = [oldString stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];

//若要只删除string结尾的空格  写一个NSString拓展类 添加如下方法
- (NSString *)stringByTrimmingTrailingCharactersInSet:(NSCharacterSet *)characterSet {
    NSUInteger location = 0;
    NSUInteger length = [self length];
    unichar charBuffer[length];    
    [self getCharacters:charBuffer];

    for (length; length > 0; length--) {
        if (![characterSet characterIsMember:charBuffer[length - 1]]) {
            break;
        }
    }

    return [self substringWithRange:NSMakeRange(location, length - location)];
}
//然后调用
NSString *trimmedString = [yourString stringByTrimmingTrailingCharactersInSet:[NSCharacterset whitespaceAndNewlineCharacterSet]];
</code></pre>
<h4 id="NSString后连接字符串"><a href="#NSString后连接字符串" class="headerlink" title="NSString后连接字符串"></a>NSString后连接字符串</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">string = [NSString initWithFormat:@"%@,%@", string1, string2 ];
string = [string1 stringByAppendingString:string2];
string = [string stringByAppendingFormat:@"%@,%@",string1, string2];
</code></pre>
<h4 id="NSString-Char-ASCII转换"><a href="#NSString-Char-ASCII转换" class="headerlink" title="NSString,Char,ASCII转换"></a>NSString,Char,ASCII转换</h4><ul>
<li><a href="http://stackoverflow.com/questions/7940283/convert-char-to-nsstring" target="_blank" rel="noopener">linkA</a></li>
<li><a href="http://stackoverflow.com/questions/2832729/how-to-convert-ascii-value-to-a-character-in-objective-c" target="_blank" rel="noopener">linkB</a></li>
</ul>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">//char to int ASCII-code
char c = 'a';
int ascii_code = (int)c;

//int to char
int i = 65; // A
c = (char)i;

// NSString to ASCII
NSString *string = @"A";
int asciiCode = [string characterAtIndex:0]; // 65

// ASCII to NSString
int asciiCode = 65;
NSString *string = [NSString stringWithFormat:@"%c", asciiCode]; // A

char myChar = 'r';
NSString* string = [NSString stringWithFormat:@"%c" , myChar];
</code></pre>
<h4 id="NSString文字高度"><a href="#NSString文字高度" class="headerlink" title="NSString文字高度"></a>NSString文字高度</h4><p><a href="http://stackoverflow.com/a/22014311/4522227" target="_blank" rel="noopener">reference</a></p>
<h4 id="cocoa获取UUID"><a href="#cocoa获取UUID" class="headerlink" title="cocoa获取UUID"></a>cocoa获取UUID</h4><p>参考：<a href="http://linfan.info/blog/2012/04/20/uuid/" target="_blank" rel="noopener">各种OS中生成UUID的方法</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">NSString CHelpFunction::stringWithUuid() {
    CFUUIDRef uuidObj = CFUUIDCreate(nil);
    NSString *uuidString = (NSString *)CFBridgingRelease(CFUUIDCreateString(nil, uuidObj));
    CFRelease(uuidObj);
    return uuidString;
}
</code></pre>
<hr>
<h3 id="UIView"><a href="#UIView" class="headerlink" title="UIView"></a>UIView</h3><h4 id="UIView贴背景图"><a href="#UIView贴背景图" class="headerlink" title="UIView贴背景图"></a>UIView贴背景图</h4><p>UIView只有<code>setBackgroundColor</code>，就用它来设置</p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">UIColor *color = [UIColor colorWithPatternImage:[UIImage imageNamed:@"bg.png"]];
[myLabel setBackgroundColor:color];
</code></pre>
<h4 id="UIView添加点击事件"><a href="#UIView添加点击事件" class="headerlink" title="UIView添加点击事件"></a>UIView添加点击事件</h4><p> 参考：<a href="http://stackoverflow.com/questions/17120476/click-event-on-uiimageview-programmatically-in-ios" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">UITapGestureRecognizer *singleTap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(tapDetected)];
singleTap.numberOfTapsRequired = 1;
[preArrowImage setUserInteractionEnabled:YES];
[preArrowImage addGestureRecognizer:singleTap];

-(void)tapDetected{
    NSLog(@"single Tap on imageview");
  }
</code></pre>
<h4 id="获取UIView触摸点"><a href="#获取UIView触摸点" class="headerlink" title="获取UIView触摸点"></a>获取UIView触摸点</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">- (void)touchesBegan:(NSSet<UITouch *> *)touches withEvent:(UIEvent *)event {
    UITouch *touch = [touches anyObject];
    CGPoint point = [touch locationInView:self];
    NSLog(@"x:%f,   y:%f", point.x, point.y);
    if (!CGRectContainsPoint(centerView.frame, point)) {
        [self removeFromSuperview];
    }
}
</code></pre>
<h4 id="layoutSubviews调用时机"><a href="#layoutSubviews调用时机" class="headerlink" title="layoutSubviews调用时机"></a>layoutSubviews调用时机</h4><p><a href="http://stackoverflow.com/questions/728372/when-is-layoutsubviews-called" target="_blank" rel="noopener">reference</a></p>
<ul>
<li><code>init</code>：不会调用<code>layoutSubviews</code></li>
<li><code>addSubview:</code>：被添加的view1、调用这个方法的view2、view2的所有子view都会调用<code>layoutSubviews</code></li>
<li><code>setFrame</code>：只有在view设置frame且尺寸参数有不同的情况下调用</li>
<li>滑动<code>UIScrollView</code>时，scrollView和其父view会调用</li>
<li>旋转屏幕会在viewController的根view调用</li>
<li>重新改变view的大小，其父view会调用</li>
</ul>
<h4 id="drawInRect-withAttributes-的参数怎么写"><a href="#drawInRect-withAttributes-的参数怎么写" class="headerlink" title="drawInRect: withAttributes:的参数怎么写"></a>drawInRect: withAttributes:的参数怎么写</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">UIFont *textFont = [UIFont fontWithName: @"Helvetica" size: 60];
UIColor *textColor = [UIColor blackColor];
NSMutableParagraphStyle *textStyle = [[NSMutableParagraphStyle defaultParagraphStyle] mutableCopy];
textStyle.lineBreakMode = NSLineBreakByWordWrapping;
textStyle.alignment = NSTextAlignmentCenter;

[textContent drawInRect:textRect withAttributes:@{NSFontAttributeName:textFont, NSForegroundColorAttributeName:textColor, NSParagraphStyleAttributeName:textStyle}];
</code></pre>
<h4 id="设置粗体文字"><a href="#设置粗体文字" class="headerlink" title="设置粗体文字"></a>设置粗体文字</h4><blockquote>
<p>首先可以上这个网站：<a href="http://iosfonts.com/" target="_blank" rel="noopener">http://iosfonts.com/</a>查看自己要用的字体是否支持粗体，然后使用下面方法</p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">-(void)boldFontForLabel:(UILabel *)label{
    UIFont *currentFont = label.font;
    UIFont *newFont = [UIFont fontWithName:[NSString stringWithFormat:@"%@-Bold",currentFont.fontName] size:currentFont.pointSize];
    label.font = newFont;
}
</code></pre>
</blockquote>
<h4 id="UIView一些尺寸属性"><a href="#UIView一些尺寸属性" class="headerlink" title="UIView一些尺寸属性"></a>UIView一些尺寸属性</h4><ul>
<li>frame：origin是相对于屏幕的点的坐标，size就是其尺寸</li>
<li>bound:  origin永远是(0,0)，size也是尺寸</li>
<li>center: 是View的中心点，但坐标是相对于屏幕的。如果需要相对自己的中心点，则需要用bound.origin来计算</li>
</ul>
<h4 id="UIView加外边框"><a href="#UIView加外边框" class="headerlink" title="UIView加外边框"></a>UIView加外边框</h4><p><a href="http://stackoverflow.com/a/15184257/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">CGFloat borderWidth = 2.0f;

self.frame = CGRectInset(self.frame, -borderWidth, -borderWidth);
self.layer.borderColor = [UIColor yellowColor].CGColor;
self.layer.borderWidth = borderWidth;
</code></pre>
<h4 id="UIView切换动画"><a href="#UIView切换动画" class="headerlink" title="UIView切换动画"></a>UIView切换动画</h4><p>只要提供View的初识状态和结束状态，然后交给showAnimation来做即可</p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">-(void)showAnimation {

    [self.view addSubview:geopointView]
    geopointView.frame = // somewhere offscreen, in the direction you want it to appear from
    [UIView animateWithDuration:10.0 
                     animations:^{
                         geopointView.frame = // its final location
                     }];
}
</code></pre>
<h4 id="UIView滑入动画"><a href="#UIView滑入动画" class="headerlink" title="UIView滑入动画"></a>UIView滑入动画</h4><p><a href="http://stackoverflow.com/a/18133127/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">[UIView transitionFromView:viewToReplace
                    toView:replacementView
                  duration:1
                   options:UIViewAnimationOptionTransitionFlipFromBottom
                completion:nil];
</code></pre>
<h4 id="判断一个点在UIView里"><a href="#判断一个点在UIView里" class="headerlink" title="判断一个点在UIView里"></a>判断一个点在UIView里</h4><p><a href="http://stackoverflow.com/a/6501123/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">CGPoint locationInView = [imageView convertPoint:point fromView:imageView.window];
if ( CGRectContainsPoint(imageView.bounds, locationInView) ) {
    // Point lies inside the bounds.
}
</code></pre>
<h4 id="UIView调用presentViewController"><a href="#UIView调用presentViewController" class="headerlink" title="UIView调用presentViewController"></a>UIView调用presentViewController</h4><p><a href="http://stackoverflow.com/a/15623730/4522227" target="_blank" rel="noopener">reference</a></p>
<h4 id="自动布局下获取View的尺寸"><a href="#自动布局下获取View的尺寸" class="headerlink" title="自动布局下获取View的尺寸"></a>自动布局下获取View的尺寸</h4><p><a href="http://stackoverflow.com/a/13542580/4522227" target="_blank" rel="noopener">reference</a></p>
<h4 id="把touch事件传递给子View"><a href="#把touch事件传递给子View" class="headerlink" title="把touch事件传递给子View"></a>把touch事件传递给子View</h4><p>涉及到事件传递部分内容，另外再开博客记录<br><a href="http://stackoverflow.com/a/7719901/4522227" target="_blank" rel="noopener">reference</a></p>
<hr>
<h3 id="UILabel"><a href="#UILabel" class="headerlink" title="UILabel"></a>UILabel</h3><h4 id="UILabel设置行间距"><a href="#UILabel设置行间距" class="headerlink" title="UILabel设置行间距"></a>UILabel设置行间距</h4><p><a href="http://stackoverflow.com/questions/5494498/how-to-control-the-line-spacing-in-uilabel" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] init];
NSMutableParagraphStyle *paragraphStyle = [[NSMutableParagraphStyle alloc] init];
paragraphStyle.lineSpacing = spacing;
[attributedString addAttribute:NSParagraphStyleAttributeName value:paragraphStyle range:NSMakeRange(0, label.text.length)];

label.attributedText = attributedString;
</code></pre>
<h4 id="UILabel下划线"><a href="#UILabel下划线" class="headerlink" title="UILabel下划线"></a>UILabel下划线</h4><p><a href="http://stackoverflow.com/a/2711587/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">NSDictionary *underlineAttribute = @{NSUnderlineStyleAttributeName: @(NSUnderlineStyleSingle)};
myLabel.attributedText = [[NSAttributedString alloc] initWithString:@"Test string" 
                                                         attributes:underlineAttribute];
</code></pre>
<hr>
<h3 id="UIButton"><a href="#UIButton" class="headerlink" title="UIButton"></a>UIButton</h3><h4 id="模拟按钮点击事件"><a href="#模拟按钮点击事件" class="headerlink" title="模拟按钮点击事件"></a>模拟按钮点击事件</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">[buttonObj sendActionsForControlEvents: UIControlEventTouchUpInside];
</code></pre>
<hr>
<h3 id="UIImage-amp-UIImageView"><a href="#UIImage-amp-UIImageView" class="headerlink" title="UIImage &amp; UIImageView"></a>UIImage &amp; UIImageView</h3><h4 id="用纯色生成一个UIImage"><a href="#用纯色生成一个UIImage" class="headerlink" title="用纯色生成一个UIImage"></a>用纯色生成一个UIImage</h4><p><a href="http://stackoverflow.com/questions/6496441/creating-a-uiimage-from-a-uicolor-to-use-as-a-background-image-for-uibutton" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">@implementation  UIButton (ButtonMagic)

- (void)setBackgroundColor:(UIColor *)backgroundColor forState:(UIControlState)state {
    [self setBackgroundImage:[UIButton imageFromColor:backgroundColor] forState:state];
}

+ (UIImage *)imageFromColor:(UIColor *)color {
    CGRect rect = CGRectMake(0, 0, 1, 1);
    UIGraphicsBeginImageContext(rect.size);
    CGContextRef context = UIGraphicsGetCurrentContext();
    CGContextSetFillColorWithColor(context, [color CGColor]);
    CGContextFillRect(context, rect);
    UIImage *image = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    return image;
}
</code></pre>
<h4 id="UIImage占内存大小"><a href="#UIImage占内存大小" class="headerlink" title="UIImage占内存大小"></a>UIImage占内存大小</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">NSUInteger size  = CGImageGetHeight(thumbImage.CGImage) * CGImageGetBytesPerRow(thumbImage.CGImage);
</code></pre>
<h4 id="UIImage加边框"><a href="#UIImage加边框" class="headerlink" title="UIImage加边框"></a>UIImage加边框</h4><p><a href="http://stackoverflow.com/questions/27395497/add-white-border-to-uiimage" target="_blank" rel="noopener">reference</a></p>
<h4 id="把UIView生成UIImage"><a href="#把UIView生成UIImage" class="headerlink" title="把UIView生成UIImage"></a>把UIView生成UIImage</h4><p><a href="http://stackoverflow.com/a/6079336/4522227" target="_blank" rel="noopener">reference</a><br><a href="http://stackoverflow.com/a/22494886/4522227" target="_blank" rel="noopener">reference2</a></p>
<hr>
<h3 id="UIColor"><a href="#UIColor" class="headerlink" title="UIColor"></a>UIColor</h3><h4 id="给ClearColor添加alpha"><a href="#给ClearColor添加alpha" class="headerlink" title="给ClearColor添加alpha"></a>给ClearColor添加alpha</h4><p><a href="http://stackoverflow.com/a/11440737/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">- (void)setBackgroundColor:(UIColor *)color 
{
    self.backgroundColor = [color colorWithAlphaComponent:0.3f];
}
</code></pre>
<hr>
<h3 id="NSNotification"><a href="#NSNotification" class="headerlink" title="NSNotification"></a>NSNotification</h3><h4 id="NSNotification流程"><a href="#NSNotification流程" class="headerlink" title="NSNotification流程"></a>NSNotification流程</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">//send
NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];
NSDictionary *d = [NSDictionary dictionaryWithObject:[NSNumber numberWithInt:m_index] forKey:@"index"];
[nc postNotificationName:@"viewClicked" object:self userInfo:d];
//regist observer
[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(viewClickAt:) name:@"quesViewClicked" object:nil];
//do function
- (void)quesViewClickAt:(NSNotification *)noti {
    int index = [[[noti userInfo] objectForKey:@"index"] intValue];
}
//dealloc
- (void)dealloc {
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}
</code></pre>
<hr>
<h3 id="UITextView-amp-UITextField"><a href="#UITextView-amp-UITextField" class="headerlink" title="UITextView &amp; UITextField"></a>UITextView &amp; UITextField</h3><h4 id="keyboard强行关闭"><a href="#keyboard强行关闭" class="headerlink" title="keyboard强行关闭"></a>keyboard强行关闭</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">[view endEditing:YES];
</code></pre>
<h4 id="UITextView限制输入字符"><a href="#UITextView限制输入字符" class="headerlink" title="UITextView限制输入字符"></a>UITextView限制输入字符</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">- (BOOL)textView:(nonnull UITextView *)textView shouldChangeTextInRange:(NSRange)range replacementText:(nonnull NSString *)text {
    // Prevent crashing undo bug 
    if(range.length + range.location > textView.text.length)
    {
        return NO;
    }

    NSUInteger newLength = [textView.text length] + [text length] - range.length;
    return newLength <= 1024;
}
</code></pre>
<h4 id="UITextView添加默认文字"><a href="#UITextView添加默认文字" class="headerlink" title="UITextView添加默认文字"></a>UITextView添加默认文字</h4><p>UITextField是有placeholder(?)这个属性的，但是UITextView没有，大家表示也是醉了。<br><a href="http://stackoverflow.com/a/10201671/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">- (void)textViewDidBeginEditing:(UITextView *)textView
{
    if ([textView.text isEqualToString:@"placeholder text here..."]) {
         textView.text = @"";
         textView.textColor = [UIColor blackColor]; //optional
    }
    [textView becomeFirstResponder];
}

- (void)textViewDidEndEditing:(UITextView *)textView
{
    if ([textView.text isEqualToString:@""]) {
        textView.text = @"placeholder text here...";
        textView.textColor = [UIColor lightGrayColor]; //optional
    }
    [textView resignFirstResponder];
}
</code></pre>
<h4 id="UITextField光标距离左边间隔太小"><a href="#UITextField光标距离左边间隔太小" class="headerlink" title="UITextField光标距离左边间隔太小"></a>UITextField光标距离左边间隔太小</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">UITextField *content = ......;
//设置输入左边距
CGRect frame = content.frame;
frame.size.width = 5;
UIView *leftView = [[UIView alloc] initWithFrame:frame];
content.leftViewMode = UITextFieldViewModeAlways;
content.leftView = leftView;
</code></pre>
<h4 id="UITextField下划线"><a href="#UITextField下划线" class="headerlink" title="UITextField下划线"></a>UITextField下划线</h4><p><a href="http://stackoverflow.com/a/26801251/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec"> CALayer *border = [CALayer layer];
    CGFloat borderWidth = 2;
    border.borderColor = [UIColor darkGrayColor].CGColor;
    border.frame = CGRectMake(0, textField.frame.size.height - borderWidth, textField.frame.size.width, textField.frame.size.height);
    border.borderWidth = borderWidth;
    [textField.layer addSublayer:border];
    textField.layer.masksToBounds = YES;
</code></pre>
<h4 id="UITextField内容改变事件"><a href="#UITextField内容改变事件" class="headerlink" title="UITextField内容改变事件"></a>UITextField内容改变事件</h4><p>UITextView有对应的回调，UITextField就没有。<br><a href="http://stackoverflow.com/questions/4006137/uitextfield-value-changed-event" target="_blank" rel="noopener">reference</a><br><a href="http://stackoverflow.com/a/15489967/4522227" target="_blank" rel="noopener">reference2</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">[myTextField addTarget:self 
                action:@selector(textFieldDidChange:) 
      forControlEvents:UIControlEventEditingChanged];
</code></pre>
<h4 id="多个UITextField，键盘return改为next-gt-next-gt-done-（iOS9又有新的类型）"><a href="#多个UITextField，键盘return改为next-gt-next-gt-done-（iOS9又有新的类型）" class="headerlink" title="多个UITextField，键盘return改为next-&gt;next-&gt;done （iOS9又有新的类型）"></a>多个UITextField，键盘return改为next-&gt;next-&gt;done （iOS9又有新的类型）</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">//set keyboard
if (i == count - 1) 
   [contentText setReturnKeyType:UIReturnKeyDone];
else
   [contentText setReturnKeyType:UIReturnKeyNext];
#pragma mark - TextFieldDelegate
- (BOOL)textFieldShouldReturn:(nonnull UITextField *)textField {
    NSInteger nextTag = textField.tag + 1;
    // Try to find next responder
    UIResponder* nextResponder = [textField.superview viewWithTag:nextTag];
    if (nextResponder) {
        // Found next responder, so set it.
        [nextResponder becomeFirstResponder];
    } else {
        // Not found, so remove keyboard.
        [textField resignFirstResponder];
    }
    return NO; // We do not want UITextField to insert line-breaks.
}
</code></pre>
<hr>
<h3 id="UIScrollView-amp-UITableView-amp-UICollectionView"><a href="#UIScrollView-amp-UITableView-amp-UICollectionView" class="headerlink" title="UIScrollView &amp; UITableView &amp; UICollectionView"></a>UIScrollView &amp; UITableView &amp; UICollectionView</h3><h4 id="UIScrollView滚动到顶端"><a href="#UIScrollView滚动到顶端" class="headerlink" title="UIScrollView滚动到顶端"></a>UIScrollView滚动到顶端</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">//UPDATE FOR iOS 7
[self.scrollView setContentOffset:
    CGPointMake(0, -self.scrollView.contentInset.top) animated:YES];
//ORIGINAL
[self.scrollView setContentOffset:CGPointZero animated:YES];
//or if you want to preserve the horizontal scroll position and just reset the vertical position:
[self.scrollView setContentOffset:CGPointMake(self.scrollView.contentOffset.x, 0) animated:YES];
</code></pre>
<h4 id="UITableView屏蔽自动滚动效果"><a href="#UITableView屏蔽自动滚动效果" class="headerlink" title="UITableView屏蔽自动滚动效果"></a>UITableView屏蔽自动滚动效果</h4><p><a href="http://stackoverflow.com/questions/9637089/disabling-automatic-scrolling-of-uitableview-when-editing-uitextfield-inside-uit" target="_blank" rel="noopener">reference</a><br>继承UITableViewController重写</p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">- (void)viewWillAppear:(BOOL)animated { //不调用super方法  屏蔽自动滚动
    //[super ...];
}
</code></pre>
<h4 id="判断UITableViewCell是否可见"><a href="#判断UITableViewCell是否可见" class="headerlink" title="判断UITableViewCell是否可见"></a>判断UITableViewCell是否可见</h4><p><a href="http://stackoverflow.com/a/3326891/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-onjectivec"><code class="language-lang-onjectivec">-(BOOL)isRowZeroVisible {
  NSArray *indexes = [tableView indexPathsForVisibleRows];
  for (NSIndexPath *index in indexes) {
    if (index.row == 0) {
      return YES;
    }
  }

  return NO;
}
</code></pre>
<h4 id="UICollectionViewCell构造"><a href="#UICollectionViewCell构造" class="headerlink" title="UICollectionViewCell构造"></a>UICollectionViewCell构造</h4><p>UICollectionViewCell 不能用<code>-(id)init{}</code>，要用<code>-(id)initWithFrame:(CGRect)frame</code>或者<code>initWithCoder()</code></p>
<hr>
<h3 id="NSArray-amp-NSDictionary"><a href="#NSArray-amp-NSDictionary" class="headerlink" title="NSArray &amp; NSDictionary"></a>NSArray &amp; NSDictionary</h3><h4 id="NSArray和std-vector转换"><a href="#NSArray和std-vector转换" class="headerlink" title="NSArray和std::vector转换"></a>NSArray和std::vector<std::string>转换</std::string></h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">std::vector<std::string> strVec;
for (int i = 0; i < [NSMutableArrayObject count]; i++) {
   NSString *NS_Ans = (NSString *)[NSMutableArrayObject objectAtIndex:i];
   std::string Str_Ans = *new std::string([NS_Ans UTF8String]);
   strVec.push_back(Str_Ans);
}
return strVec;
//
std::vector<std::string> ansArray = getOneVector();           
NSMutableArray *nsArray = [NSMutableArray array];
for (int j = 0; j < ansArray.size(); j++) {
   NSString *item = [NSString stringWithCString:ansArray[j].c_str() encoding:[NSString defaultCStringEncoding]];         
   [nsArray addObject:item];
}
return ansArray;
</code></pre>
<h4 id="NSArray添加CGPoint对象"><a href="#NSArray添加CGPoint对象" class="headerlink" title="NSArray添加CGPoint对象"></a>NSArray添加CGPoint对象</h4><p>一般使用NSValue <a href="http://stackoverflow.com/a/899653/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">NSArray *points = [NSArray arrayWithObjects:
                     [NSValue valueWithCGPoint:CGPointMake(5.5, 6.6)],
                     [NSValue valueWithCGPoint:CGPointMake(7.7, 8.8)],
                     nil];

NSValue *val = [points objectAtIndex:0];
CGPoint p = [val CGPointValue];
</code></pre>
<h4 id="NSMutableArray-NSMutableDictionary插入空值"><a href="#NSMutableArray-NSMutableDictionary插入空值" class="headerlink" title="NSMutableArray/NSMutableDictionary插入空值"></a>NSMutableArray/NSMutableDictionary插入空值</h4><pre class=" language-lang-objectivec"><code class="language-lang-objectivec">if ((NSNull *)[mPages objectAtIndex:showPos] == [NSNull null]) {
        [mPages removeObjectAtIndex:showPos];
}
[mPages insertObject:mPage atIndex:showPos];

[mPages removeObjectAtIndex:hidePos];
[mPages insertObject:[NSNull null] atIndex:hidePos];
</code></pre>
<h4 id="NSDictionary保存int类型"><a href="#NSDictionary保存int类型" class="headerlink" title="NSDictionary保存int类型"></a>NSDictionary保存<code>int</code>类型</h4><p>NSDictionary保存的都是对象，所以<code>int</code>要转成<code>NSNumber</code></p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">//save
[NSDictionary dictionaryWithObject:[NSNumber numberWithInt:m_quesIndex] forKey:@"index"];
//get
i = [[dic objectForKey:@"index"] intValue];
</code></pre>
<hr>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="Cocoapods-pod-install-太慢"><a href="#Cocoapods-pod-install-太慢" class="headerlink" title="Cocoapods pod install 太慢"></a>Cocoapods pod install 太慢</h4><p><a href="http://stackoverflow.com/a/36821144/4522227" target="_blank" rel="noopener">reference</a></p>
<pre class=" language-lang-bash"><code class="language-lang-bash">pod install --verbose --no-repo-update
</code></pre>
<h4 id="标注代码段"><a href="#标注代码段" class="headerlink" title="标注代码段"></a>标注代码段</h4><p><a href="http://stackoverflow.com/a/24037870/4522227" target="_blank" rel="noopener">reference</a><br>在OC里经常用</p>
<pre class=" language-lang-objectivec"><code class="language-lang-objectivec">#pragma mark - xxxx
</code></pre>
<p>来分隔代码<br>Swift里用的是</p>
<pre class=" language-lang-Swift"><code class="language-lang-Swift">// MARK: - xxx
</code></pre>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://wossoneri.github.io" rel="external nofollow noreferrer">Wossoneri</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://wossoneri.github.io/2016/04/18/[iOS]Collections-of-issues/">http://wossoneri.github.io/2016/04/18/[iOS]Collections-of-issues/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by-nc/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY-NC 4.0</a>
                    许可协议。转载请注明来源
                    <a href="http://wossoneri.github.io" target="_blank">Wossoneri</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/iOS/">
                                    <span class="chip bg-color">iOS</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    

    
        <link rel="stylesheet" href="/libs/gitment/gitment-default.css">
<link rel="stylesheet" href="/css/gitment.css">

<div class="gitment-card card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="gitment-content" class="card-content"></div>
</div>

<script src="/libs/gitment/gitment.js"></script>
<script>
var gitment = new Gitment({
    id: 'Mon Apr 18 2016 22:22:00 GMT+0800',
    owner: 'wossoneri',
    repo: 'wossoneri.github.io',
    oauth: {
        client_id: '40b6c719a11e3fca29e8',
        client_secret: '9d7241035e9211e280e753883f5b8f5a1a49bf77'
    }
});

gitment.render('gitment-content');
</script>
    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2016/04/29/[Objective-C]KVC-and-KVO/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/15.jpg" class="responsive-img" alt="[Objective-C] KVC 和 KVO">
                        
                        <span class="card-title">[Objective-C] KVC 和 KVO</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            开发iOS经常会看见KVO和KVC这两个概念，特地了解了一下。发现很简单。
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2016-04-29
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Syntax/" class="post-category">
                                    Syntax
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/iOS/">
                        <span class="chip bg-color">iOS</span>
                    </a>
                    
                    <a href="/tags/Objective-C/">
                        <span class="chip bg-color">Objective-C</span>
                    </a>
                    
                    <a href="/tags/KVO/">
                        <span class="chip bg-color">KVO</span>
                    </a>
                    
                    <a href="/tags/KVC/">
                        <span class="chip bg-color">KVC</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2016/04/16/[Swift]Notes-of-Swift/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/20.jpg" class="responsive-img" alt="[Swift] Swift笔记">
                        
                        <span class="card-title">[Swift] Swift笔记</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            建立一个Github保存笔记
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2016-04-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/Syntax/" class="post-category">
                                    Syntax
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/Swift/">
                        <span class="chip bg-color">Swift</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: wOw的博客<br />'
            + '文章作者: Wossoneri<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4, h5'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2015</span>
            <a href="http://wossoneri.github.io" target="_blank">Wossoneri</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <span id="sitetime">载入运行时间...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2015";
                    var startMonth = "1";
                    var startDate = "1";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffDays + " 天 " + diffHours +
                            " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "本站已安全运行 " + diffYears + " 年 " + diffDays +
                            " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/wossoneri" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:wossoneri@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=478251276" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 478251276" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70716047-2"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'UA-70716047-2');
</script>


    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</body>

</html>
